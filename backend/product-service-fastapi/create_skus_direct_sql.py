#!/usr/bin/env python3
"""
Create realistic SKU data using direct SQL to bypass enum issues
"""
import asyncio
import os
import asyncpg
import uuid
import json
from datetime import datetime
from urllib.parse import quote

def get_database_url():
    """Êô∫ÊÖßÁç≤ÂèñË≥áÊñôÂ∫´ URLÔºåÂÑ™ÂÖà‰ΩøÁî®ÂàÜÈõ¢ÂºèËÆäÊï∏"""
    # 1. ÂÑ™ÂÖà‰ΩøÁî® DATABASE_URL Áí∞Â¢ÉËÆäÊï∏ÔºàÂêëÂæåÂÖºÂÆπÔºâ
    if db_url := os.getenv("DATABASE_URL"):
        # asyncpg ‰ΩøÁî® postgresql:// ËÄåÈùû postgresql+asyncpg://
        if db_url.startswith("postgresql+asyncpg://"):
            return db_url.replace("postgresql+asyncpg://", "postgresql://")
        return db_url
    
    # 2. ÁµÑË£ùÂàÜÈõ¢ÂºèËÆäÊï∏
    host = os.getenv("DATABASE_HOST", "localhost")
    port = os.getenv("DATABASE_PORT", "5432")
    user = os.getenv("DATABASE_USER", "orderly")
    name = os.getenv("DATABASE_NAME", "orderly")
    
    # ÊîØÊè¥Â§öÁ®ÆÂØÜÁ¢ºÁí∞Â¢ÉËÆäÊï∏ÂêçÁ®±ÔºàCloud Run Áõ∏ÂÆπÊÄßÔºâ
    password = (
        os.getenv("POSTGRES_PASSWORD") or
        os.getenv("DATABASE_PASSWORD") or
        os.getenv("DB_PASSWORD") or
        "orderly_dev_password"
    )
    
    # URL Á∑®Á¢ºÂØÜÁ¢º‰ª•ËôïÁêÜÁâπÊÆäÂ≠óÁ¨¶
    encoded_password = quote(password, safe="")
    encoded_user = quote(user, safe="")
    
    # Âà§Êñ∑ÊòØÂê¶ÁÇ∫ Cloud SQL Unix Socket ÈÄ£Êé•
    if host.startswith("/cloudsql/"):
        return f"postgresql://{encoded_user}:{encoded_password}@/{name}?host={host}"
    
    return f"postgresql://{encoded_user}:{encoded_password}@{host}:{port}/{name}"

# Database connection
DATABASE_URL = get_database_url()

# SKU configurations for all 92 subcategories
CATEGORY_SKU_CONFIG = {
    # ÈùíËèúÈ°û (BY_WEIGHT)
    "LEAF": {  # ËëâËèúÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("ÊúâÊ©üËè†Ëèú", {"ÂìÅÁ®Æ": "Âè∞ÁÅ£Ëè†Ëèú", "Áî¢Âú∞": "ÂΩ∞Âåñ"}, 120.0, 0.3, 0.1),
            ("AËèú", {"ÂìÅÁ®Æ": "Ê≤πËèú", "Áî¢Âú∞": "Èõ≤Êûó"}, 80.0, 0.5, 0.1),
            ("ÈùíÊ±üËèú", {"ÂìÅÁ®Æ": "Â∞èÁôΩËèú", "Áî¢Âú∞": "Âè∞‰∏≠"}, 90.0, 0.5, 0.1),
            ("Âú∞ÁìúËëâ", {"ÂìÅÁ®Æ": "Âè∞Ëæ≤Ëèú", "Áî¢Âú∞": "Èõ≤Êûó"}, 70.0, 0.5, 0.1),
            ("Á©∫ÂøÉËèú", {"ÂìÅÁ®Æ": "Ê∞¥Ëè†Ëèú", "Áî¢Âú∞": "Âè∞Âçó"}, 65.0, 0.5, 0.1),
            ("Â§ßÈô∏Â¶π", {"ÂìÅÁ®Æ": "ËêµËã£", "Áî¢Âú∞": "Ê°ÉÂúí"}, 85.0, 0.3, 0.1),
            ("È´òÈ∫óËèú", {"ÂìÅÁ®Æ": "ÁµêÁêÉÁîòËóç", "Áî¢Âú∞": "Âè∞‰∏≠"}, 55.0, 1.0, 0.5),
        ]
    },
    "CABB": {  # È´òÈ∫óËèúÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("È´òÈ∫óËèú", {"ÂìÅÁ®Æ": "ÁµêÁêÉÁîòËóç", "Áî¢Âú∞": "Âè∞‰∏≠"}, 55.0, 1.0, 0.5),
            ("Á¥´È´òÈ∫óËèú", {"ÂìÅÁ®Æ": "Á¥´ÁîòËóç", "Áî¢Âú∞": "ËãóÊ†ó"}, 80.0, 1.0, 0.5),
            ("Â®ÉÂ®ÉËèú", {"ÂìÅÁ®Æ": "Â∞èÁôΩËèú", "Áî¢Âú∞": "ÂΩ∞Âåñ"}, 120.0, 0.5, 0.2),
            ("ÂåÖÂøÉÁôΩËèú", {"ÂìÅÁ®Æ": "Â§ßÁôΩËèú", "Áî¢Âú∞": "Èõ≤Êûó"}, 45.0, 2.0, 1.0),
            ("ÁµêÁêÉËêµËã£", {"ÂìÅÁ®Æ": "ÁæéÁîüËèú", "Áî¢Âú∞": "Ê°ÉÂúí"}, 90.0, 0.5, 0.2),
        ]
    },
    "CALO": {  # Ëä±Ê§∞ËèúÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("ÁôΩËä±Ê§∞Ëèú", {"ÂìÅÁ®Æ": "Ëä±Ê§∞Ëèú", "Áî¢Âú∞": "ÂòâÁæ©"}, 130.0, 0.8, 0.2),
            ("ÈùíËä±Ëèú", {"ÂìÅÁ®Æ": "Á∂†Ëä±Ê§∞", "Áî¢Âú∞": "ÂΩ∞Âåñ"}, 140.0, 0.8, 0.2),
            ("Á¥´Ëä±Ê§∞Ëèú", {"ÂìÅÁ®Æ": "Á¥´Ëä±Ê§∞", "Áî¢Âú∞": "Âè∞‰∏≠"}, 180.0, 0.8, 0.2),
            ("ÁæÖÈ¶¨Ëä±Ê§∞Ëèú", {"ÂìÅÁ®Æ": "ÂØ∂Â°îËä±Ëèú", "Áî¢Âú∞": "ËãóÊ†ó"}, 220.0, 0.5, 0.2),
            ("ËíúËñπ", {"ÂìÅÁ®Æ": "ËíúËãî", "Áî¢Âú∞": "Èõ≤Êûó"}, 160.0, 0.3, 0.1),
        ]
    },
    "ROOT": {  # Ê†πËéñÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("ÁôΩËòøËîî", {"ÂìÅÁ®Æ": "Êó•Êú¨ËòøËîî", "Áî¢Âú∞": "Âè∞‰∏≠"}, 35.0, 1.0, 0.5),
            ("Á¥ÖËòøËîî", {"ÂìÅÁ®Æ": "ËÉ°ËòøËîî", "Áî¢Âú∞": "Èõ≤Êûó"}, 45.0, 1.0, 0.5),
            ("È¶¨Èà¥ËñØ", {"ÂìÅÁ®Æ": "ÂÖãÂ∞º‰ºØ", "Áî¢Âú∞": "Âè∞Âåó"}, 55.0, 1.0, 0.5),
            ("Âú∞Áìú", {"ÂìÅÁ®Æ": "Âè∞Ëæ≤66Ëôü", "Áî¢Âú∞": "ÂΩ∞Âåñ"}, 40.0, 1.0, 0.5),
            ("Â±±Ëó•", {"ÂìÅÁ®Æ": "Âè∞Ëæ≤2Ëôü", "Áî¢Âú∞": "ÂçóÊäï"}, 180.0, 0.5, 0.2),
            ("ËäãÈ†≠", {"ÂìÅÁ®Æ": "Ê™≥Ê¶îÂøÉËäã", "Áî¢Âú∞": "ËãóÊ†ó"}, 90.0, 1.0, 0.5),
            ("ÁâõËí°", {"ÂìÅÁ®Æ": "Êü≥Â∑ùÁêÜÊÉ≥", "Áî¢Âú∞": "Â±èÊù±"}, 200.0, 0.5, 0.2),
        ]
    },
    "ONIO": {  # Ê¥ãËî•È°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("ÈªÉÊ¥ãËî•", {"ÂìÅÁ®Æ": "Âè∞‰∏≠1Ëôü", "Áî¢Âú∞": "Âè∞‰∏≠"}, 55.0, 1.0, 0.5),
            ("Á¥´Ê¥ãËî•", {"ÂìÅÁ®Æ": "Á¥ÖÁêÉ", "Áî¢Âú∞": "Â±èÊù±"}, 75.0, 1.0, 0.5),
            ("ÁôΩÊ¥ãËî•", {"ÂìÅÁ®Æ": "ÁôΩÁöÆ", "Áî¢Âú∞": "Èõ≤Êûó"}, 65.0, 1.0, 0.5),
            ("ÁèçÁè†Ê¥ãËî•", {"ÂìÅÁ®Æ": "Â∞èÊ¥ãËî•", "Áî¢Âú∞": "ÂΩ∞Âåñ"}, 120.0, 0.5, 0.2),
        ]
    },
    "BELL": {  # ÁîúÊ§íÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("Á¥ÖÁîúÊ§í", {"ÂìÅÁ®Æ": "Á¥ÖÁáàÁ±†Ê§í", "Áî¢Âú∞": "ÂòâÁæ©"}, 160.0, 0.5, 0.1),
            ("ÈªÉÁîúÊ§í", {"ÂìÅÁ®Æ": "ÈªÉÁáàÁ±†Ê§í", "Áî¢Âú∞": "Èõ≤Êûó"}, 150.0, 0.5, 0.1),
            ("Á∂†ÁîúÊ§í", {"ÂìÅÁ®Æ": "ÈùíÊ§í", "Áî¢Âú∞": "Âè∞Âçó"}, 120.0, 0.5, 0.1),
            ("Ê©ôÁîúÊ§í", {"ÂìÅÁ®Æ": "Ê©ôÊ§í", "Áî¢Âú∞": "Â±èÊù±"}, 170.0, 0.5, 0.1),
            ("Á¥´ÁîúÊ§í", {"ÂìÅÁ®Æ": "Á¥´Ê§í", "Áî¢Âú∞": "Âè∞‰∏≠"}, 190.0, 0.5, 0.1),
        ]
    },
    "TOMA": {  # Áï™ËåÑÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("ÁâõÁï™ËåÑ", {"ÂìÅÁ®Æ": "Ê°ÉÂ§™ÈÉé", "Áî¢Âú∞": "Âè∞Âçó"}, 90.0, 1.0, 0.3),
            ("Â∞èÁï™ËåÑ", {"ÂìÅÁ®Æ": "ËÅñÂ•≥", "Áî¢Âú∞": "ÂΩ∞Âåñ"}, 140.0, 0.5, 0.1),
            ("ÁéâÂ•≥Áï™ËåÑ", {"ÂìÅÁ®Æ": "ÁéâÂ•≥", "Áî¢Âú∞": "Èõ≤Êûó"}, 160.0, 0.5, 0.1),
            ("ÈªëÊüøÁï™ËåÑ", {"ÂìÅÁ®Æ": "ÈªëÊüø", "Áî¢Âú∞": "ÂòâÁæ©"}, 180.0, 0.5, 0.1),
            ("ÈªÉÈáëÁï™ËåÑ", {"ÂìÅÁ®Æ": "ÈáëÁ´•", "Áî¢Âú∞": "Âè∞‰∏≠"}, 200.0, 0.3, 0.1),
        ]
    },
    "CUCU": {  # Â∞èÈªÉÁìúÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("Â∞èÈªÉÁìú", {"ÂìÅÁ®Æ": "ÈùíÁìú", "Áî¢Âú∞": "Èõ≤Êûó"}, 65.0, 1.0, 0.3),
            ("Â§ßÈªÉÁìú", {"ÂìÅÁ®Æ": "ËÉ°Áìú", "Áî¢Âú∞": "Âè∞Âçó"}, 45.0, 1.0, 0.5),
            ("Êó•Êú¨Â∞èÈªÉÁìú", {"ÂìÅÁ®Æ": "Êó•Êú¨Á®Æ", "Áî¢Âú∞": "ÂòâÁæ©"}, 120.0, 0.5, 0.2),
            ("Ëø∑‰Ω†ÈªÉÁìú", {"ÂìÅÁ®Æ": "Ëø∑‰Ω†", "Áî¢Âú∞": "Âè∞‰∏≠"}, 180.0, 0.3, 0.1),
        ]
    },
    "EGGP": {  # ËåÑÂ≠êÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("Á¥´ËåÑÂ≠ê", {"ÂìÅÁ®Æ": "Èï∑ËåÑ", "Áî¢Âú∞": "Âè∞Âçó"}, 80.0, 1.0, 0.3),
            ("ÁôΩËåÑÂ≠ê", {"ÂìÅÁ®Æ": "ÁôΩÁöÆËåÑ", "Áî¢Âú∞": "Èõ≤Êûó"}, 90.0, 1.0, 0.3),
            ("Êó•Êú¨ËåÑÂ≠ê", {"ÂìÅÁ®Æ": "Êó•Êú¨Èï∑ËåÑ", "Áî¢Âú∞": "ÂΩ∞Âåñ"}, 140.0, 0.5, 0.2),
            ("ÂúìËåÑ", {"ÂìÅÁ®Æ": "ÂúìËåÑ", "Áî¢Âú∞": "ÂòâÁæ©"}, 100.0, 0.8, 0.2),
        ]
    },
    "CHER": {  # Ê´ªÊ°ÉËòøËîîÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("Ê´ªÊ°ÉËòøËîî", {"ÂìÅÁ®Æ": "Á¥ÖÁôΩËòøËîî", "Áî¢Âú∞": "Âè∞‰∏≠"}, 120.0, 0.5, 0.1),
            ("ÁôΩÁéâËòøËîî", {"ÂìÅÁ®Æ": "Â∞èÁôΩËòøËîî", "Áî¢Âú∞": "Èõ≤Êûó"}, 100.0, 0.5, 0.1),
            ("Á¥ÖÁöÆËòøËîî", {"ÂìÅÁ®Æ": "Á¥ÖËòøËîî", "Áî¢Âú∞": "ÂΩ∞Âåñ"}, 110.0, 0.5, 0.1),
        ]
    },

    # ÁìúÊûúÈ°û (BY_WEIGHT)
    "WINT": {  # ÂÜ¨ÁìúÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("ÂÜ¨Áìú", {"ÂìÅÁ®Æ": "ÁôΩÂÜ¨Áìú", "Áî¢Âú∞": "Âè∞Âçó"}, 25.0, 3.0, 1.0),
            ("Â∞èÂÜ¨Áìú", {"ÂìÅÁ®Æ": "Ëø∑‰Ω†ÂÜ¨Áìú", "Áî¢Âú∞": "Èõ≤Êûó"}, 45.0, 1.0, 0.5),
            ("ÊØõÂÜ¨Áìú", {"ÂìÅÁ®Æ": "ÊØõÂÜ¨Áìú", "Áî¢Âú∞": "ÂΩ∞Âåñ"}, 30.0, 2.0, 1.0),
        ]
    },
    "BITT": {  # Ëã¶ÁìúÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("ÁôΩËã¶Áìú", {"ÂìÅÁ®Æ": "ÁôΩÁéâËã¶Áìú", "Áî¢Âú∞": "Âè∞Âçó"}, 80.0, 1.0, 0.3),
            ("ÈùíËã¶Áìú", {"ÂìÅÁ®Æ": "Áø†ÁéâËã¶Áìú", "Áî¢Âú∞": "Èõ≤Êûó"}, 70.0, 1.0, 0.3),
            ("Â±±Ëã¶Áìú", {"ÂìÅÁ®Æ": "ÈáéÁîüËã¶Áìú", "Áî¢Âú∞": "ÂçóÊäï"}, 120.0, 0.5, 0.2),
        ]
    },
    "SQUA": {  # Áµ≤ÁìúÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("Áµ≤Áìú", {"ÂìÅÁ®Æ": "ËßíÁìú", "Áî¢Âú∞": "Âè∞Âçó"}, 60.0, 1.0, 0.3),
            ("ÊæéÊπñÁµ≤Áìú", {"ÂìÅÁ®Æ": "ÊæéÊπñÁ®Æ", "Áî¢Âú∞": "ÊæéÊπñ"}, 90.0, 0.8, 0.3),
            ("Ê∞¥Áìú", {"ÂìÅÁ®Æ": "Ê∞¥Áµ≤Áìú", "Áî¢Âú∞": "Èõ≤Êûó"}, 50.0, 1.0, 0.3),
        ]
    },
    "ZUCC": {  # Ê´õÁìúÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("Á∂†Ê´õÁìú", {"ÂìÅÁ®Æ": "Á∂†ÁöÆÊ´õÁìú", "Áî¢Âú∞": "Âè∞‰∏≠"}, 100.0, 0.8, 0.2),
            ("ÈªÉÊ´õÁìú", {"ÂìÅÁ®Æ": "ÈªÉÁöÆÊ´õÁìú", "Áî¢Âú∞": "ÂΩ∞Âåñ"}, 110.0, 0.8, 0.2),
            ("ÂúìÊ´õÁìú", {"ÂìÅÁ®Æ": "ÂúìÂΩ¢Ê´õÁìú", "Áî¢Âú∞": "Èõ≤Êûó"}, 120.0, 0.5, 0.2),
        ]
    },
    "PUMP": {  # ÂçóÁìúÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("Ê†óÂ≠êÂçóÁìú", {"ÂìÅÁ®Æ": "Ê†óÂçóÁìú", "Áî¢Âú∞": "Èõ≤Êûó"}, 80.0, 1.0, 0.5),
            ("Â•∂Ê≤πÂçóÁìú", {"ÂìÅÁ®Æ": "Â•∂Ê≤πÂçóÁìú", "Áî¢Âú∞": "Âè∞Âçó"}, 70.0, 1.0, 0.5),
            ("Êó•Êú¨ÂçóÁìú", {"ÂìÅÁ®Æ": "Êù±Êòá", "Áî¢Âú∞": "ÂΩ∞Âåñ"}, 90.0, 1.0, 0.5),
            ("Ëø∑‰Ω†ÂçóÁìú", {"ÂìÅÁ®Æ": "Ëø∑‰Ω†ÂçóÁìú", "Áî¢Âú∞": "Âè∞‰∏≠"}, 150.0, 0.3, 0.1),
        ]
    },

    # Ë±ÜÈ°ûËî¨Ëèú (BY_WEIGHT)
    "GREE": {  # ÂõõÂ≠£Ë±ÜÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("ÊïèË±Ü", {"ÂìÅÁ®Æ": "ÂõõÂ≠£Ë±Ü", "Áî¢Âú∞": "Èõ≤Êûó"}, 140.0, 0.5, 0.1),
            ("Ë±áË±Ü", {"ÂìÅÁ®Æ": "Èï∑Ë±Ü", "Áî¢Âú∞": "Âè∞Âçó"}, 100.0, 0.5, 0.1),
            ("ÊâÅË±Ü", {"ÂìÅÁ®Æ": "ÊâÅË±ÜËé¢", "Áî¢Âú∞": "ÂΩ∞Âåñ"}, 120.0, 0.5, 0.1),
            ("Ëç∑Ëò≠Ë±Ü", {"ÂìÅÁ®Æ": "Ë±åË±ÜËé¢", "Áî¢Âú∞": "Âè∞‰∏≠"}, 180.0, 0.3, 0.1),
        ]
    },
    "SNAP": {  # ÁîúË±ÜÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("ÁîúË±Ü", {"ÂìÅÁ®Æ": "ÁîúË±åË±Ü", "Áî¢Âú∞": "Âè∞‰∏≠"}, 200.0, 0.3, 0.1),
            ("Ë±ÜËãó", {"ÂìÅÁ®Æ": "Ë±åË±ÜËãó", "Áî¢Âú∞": "ÂΩ∞Âåñ"}, 150.0, 0.2, 0.1),
            ("Ë±ÜËäΩËèú", {"ÂìÅÁ®Æ": "Á∂†Ë±ÜËäΩ", "Áî¢Âú∞": "Èõ≤Êûó"}, 60.0, 0.5, 0.1),
        ]
    },
    "OKRA": {  # ÁßãËëµÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("Á∂†ÁßãËëµ", {"ÂìÅÁ®Æ": "Á∂†Ëâ≤ÁßãËëµ", "Áî¢Âú∞": "Âè∞Âçó"}, 180.0, 0.3, 0.1),
            ("Á¥ÖÁßãËëµ", {"ÂìÅÁ®Æ": "Á¥ÖËâ≤ÁßãËëµ", "Áî¢Âú∞": "È´òÈõÑ"}, 220.0, 0.3, 0.1),
            ("Ëø∑‰Ω†ÁßãËëµ", {"ÂìÅÁ®Æ": "Ëø∑‰Ω†ÁßãËëµ", "Áî¢Âú∞": "Â±èÊù±"}, 250.0, 0.2, 0.1),
        ]
    },

    # ËäΩËèúÈ°û (BY_WEIGHT)
    "SPRO": {  # Ë±ÜËäΩËèúÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("Á∂†Ë±ÜËäΩ", {"ÂìÅÁ®Æ": "Á∂†Ë±ÜËäΩËèú", "Áî¢Âú∞": "Âè∞Âåó"}, 50.0, 0.5, 0.1),
            ("ÈªÉË±ÜËäΩ", {"ÂìÅÁ®Æ": "ÈªÉË±ÜËäΩËèú", "Áî¢Âú∞": "Ê°ÉÂúí"}, 60.0, 0.5, 0.1),
            ("ÈªëË±ÜËäΩ", {"ÂìÅÁ®Æ": "ÈªëË±ÜËäΩËèú", "Áî¢Âú∞": "Âè∞‰∏≠"}, 80.0, 0.3, 0.1),
        ]
    },
    "ALFO": {  # ËãúËìøËäΩÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("ËãúËìøËäΩ", {"ÂìÅÁ®Æ": "Á¥´Ëä±ËãúËìø", "Áî¢Âú∞": "Âè∞‰∏≠"}, 200.0, 0.1, 0.05),
            ("ËòøËîîÂ¨∞", {"ÂìÅÁ®Æ": "ËòøËîîËäΩ", "Áî¢Âú∞": "ÂΩ∞Âåñ"}, 180.0, 0.1, 0.05),
            ("Á¥´È´òÈ∫óËäΩ", {"ÂìÅÁ®Æ": "Á¥´ÁîòËóçËäΩ", "Áî¢Âú∞": "Èõ≤Êûó"}, 220.0, 0.1, 0.05),
        ]
    },

    # È¶ôËæõÊñôËî¨Ëèú (BY_WEIGHT)
    "GING": {  # ËñëÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("ÁîüËñë", {"ÂìÅÁ®Æ": "Á´πËñë", "Áî¢Âú∞": "ÂçóÊäï"}, 300.0, 0.2, 0.1),
            ("Â´©Ëñë", {"ÂìÅÁ®Æ": "Â´©Ëñë", "Áî¢Âú∞": "Âè∞‰∏≠"}, 200.0, 0.3, 0.1),
            ("ËÄÅËñë", {"ÂìÅÁ®Æ": "ËÄÅËñë", "Áî¢Âú∞": "Èõ≤Êûó"}, 250.0, 0.2, 0.1),
        ]
    },
    "GARL": {  # ËíúÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("ËíúÈ†≠", {"ÂìÅÁ®Æ": "Â§ßËíú", "Áî¢Âú∞": "Èõ≤Êûó"}, 350.0, 0.2, 0.1),
            ("ËíúËãó", {"ÂìÅÁ®Æ": "ÈùíËíú", "Áî¢Âú∞": "ÂΩ∞Âåñ"}, 120.0, 0.3, 0.1),
            ("Ëíú‰ªÅ", {"ÂìÅÁ®Æ": "ËíúÁì£", "Áî¢Âú∞": "Âè∞Âçó"}, 400.0, 0.1, 0.05),
        ]
    },
    "SCAL": {  # Ëî•È°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("ÈùíËî•", {"ÂìÅÁ®Æ": "ÂõõÂ≠£Ëî•", "Áî¢Âú∞": "ÂÆúËò≠"}, 180.0, 0.3, 0.1),
            ("Â§ßËî•", {"ÂìÅÁ®Æ": "Â§ßËî•", "Áî¢Âú∞": "Èõ≤Êûó"}, 100.0, 0.5, 0.2),
            ("Áè†Ëî•", {"ÂìÅÁ®Æ": "Á¥ÖËî•È†≠", "Áî¢Âú∞": "ÂΩ∞Âåñ"}, 300.0, 0.2, 0.1),
        ]
    },
    "CHIL": {  # Ëæ£Ê§íÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("ÊúùÂ§©Ê§í", {"ÂìÅÁ®Æ": "Â∞èËæ£Ê§í", "Áî¢Âú∞": "Âè∞Âçó"}, 400.0, 0.1, 0.05),
            ("Á≥ØÁ±≥Ê§í", {"ÂìÅÁ®Æ": "ÁîúÊ§í", "Áî¢Âú∞": "ÂòâÁæ©"}, 180.0, 0.3, 0.1),
            ("ÈùíËæ£Ê§í", {"ÂìÅÁ®Æ": "ÈùíÊ§í", "Áî¢Âú∞": "Èõ≤Êûó"}, 150.0, 0.3, 0.1),
            ("Á¥ÖËæ£Ê§í", {"ÂìÅÁ®Æ": "Á¥ÖÊ§í", "Áî¢Âú∞": "Â±èÊù±"}, 350.0, 0.1, 0.05),
        ]
    },

    # È¶ôËçâÈ°û (BY_WEIGHT)
    "BASI": {  # ‰πùÂ±§Â°îÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("‰πùÂ±§Â°î", {"ÂìÅÁ®Æ": "ÁæÖÂãí", "Áî¢Âú∞": "Âè∞‰∏≠"}, 300.0, 0.1, 0.05),
            ("Á¥´Ëòá", {"ÂìÅÁ®Æ": "Á¥´ËòáËëâ", "Áî¢Âú∞": "ÂçóÊäï"}, 400.0, 0.1, 0.05),
            ("ËñÑËç∑", {"ÂìÅÁ®Æ": "Á∂†ËñÑËç∑", "Áî¢Âú∞": "ÂÆúËò≠"}, 350.0, 0.1, 0.05),
        ]
    },
    "CILA": {  # È¶ôËèúÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("È¶ôËèú", {"ÂìÅÁ®Æ": "Ëä´ËçΩ", "Áî¢Âú∞": "Èõ≤Êûó"}, 200.0, 0.2, 0.1),
            ("ËäπËèú", {"ÂìÅÁ®Æ": "Ë•øÊ¥ãËäπ", "Áî¢Âú∞": "ÂΩ∞Âåñ"}, 100.0, 0.5, 0.2),
            ("Èü≠Ëèú", {"ÂìÅÁ®Æ": "Èü≠ÈªÉ", "Áî¢Âú∞": "Âè∞Âçó"}, 120.0, 0.3, 0.1),
        ]
    },

    # Ê∞¥ÊûúÈ°û (BY_WEIGHT)
    "APPL": {  # ËòãÊûúÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("ÂØåÂ£´ËòãÊûú", {"ÂìÅÁ®Æ": "ÂØåÂ£´", "Áî¢Âú∞": "Êó•Êú¨"}, 180.0, 1.0, 0.3),
            ("ÈùíËòãÊûú", {"ÂìÅÁ®Æ": "ÈùíÈæç", "Áî¢Âú∞": "ÁæéÂúã"}, 160.0, 1.0, 0.3),
            ("ËúúËòãÊûú", {"ÂìÅÁ®Æ": "ËúúËÑÜ", "Áî¢Âú∞": "Á¥êË•øËò≠"}, 220.0, 1.0, 0.3),
        ]
    },
    "BANA": {  # È¶ôËïâÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("È¶ôËïâ", {"ÂìÅÁ®Æ": "ÂåóËïâ", "Áî¢Âú∞": "È´òÈõÑ"}, 80.0, 1.0, 0.5),
            ("Ëä≠Ëïâ", {"ÂìÅÁ®Æ": "Ëä≠Ëïâ", "Áî¢Âú∞": "Â±èÊù±"}, 60.0, 1.0, 0.5),
            ("Áé´Áë∞Ëïâ", {"ÂìÅÁ®Æ": "Áé´Áë∞Ëïâ", "Áî¢Âú∞": "Âè∞Êù±"}, 120.0, 1.0, 0.3),
        ]
    },
    "ORAN": {  # ÊüëÊ©òÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("Êü≥Ê©ô", {"ÂìÅÁ®Æ": "Â∏ùÁéãÊüë", "Áî¢Âú∞": "Âè∞‰∏≠"}, 90.0, 1.0, 0.5),
            ("Ê©òÂ≠ê", {"ÂìÅÁ®Æ": "Ê°∂Êüë", "Áî¢Âú∞": "Êñ∞Á´π"}, 70.0, 1.0, 0.5),
            ("Ê™∏Ê™¨", {"ÂìÅÁ®Æ": "ÂõõÂ≠£Ê™∏Ê™¨", "Áî¢Âú∞": "Â±èÊù±"}, 120.0, 0.5, 0.2),
            ("Ëë°ËêÑÊüö", {"ÂìÅÁ®Æ": "ÊñáÊó¶Êüö", "Áî¢Âú∞": "Âè∞Âçó"}, 60.0, 2.0, 1.0),
        ]
    },
    "GRAP": {  # Ëë°ËêÑÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("Â∑®Â≥∞Ëë°ËêÑ", {"ÂìÅÁ®Æ": "Â∑®Â≥∞", "Áî¢Âú∞": "ÂΩ∞Âåñ"}, 300.0, 0.5, 0.2),
            ("Á∂†Ëë°ËêÑ", {"ÂìÅÁ®Æ": "ÁÑ°Á±ΩÁ∂†", "Áî¢Âú∞": "ÁæéÂúã"}, 280.0, 0.5, 0.2),
            ("Á¥ÖËë°ËêÑ", {"ÂìÅÁ®Æ": "Á¥ÖÂú∞ÁêÉ", "Áî¢Âú∞": "Êô∫Âà©"}, 320.0, 0.5, 0.2),
        ]
    },

    # ÂåÖË£ùÈ£üÂìÅÈ°û (BY_ITEM)
    "SEAS": {  # Ë™øÂë≥Êñô
        "pricing_method": "BY_ITEM",
        "base_unit": "Áì∂",
        "products": [
            ("Áµ±‰∏ÄÈÜ¨Ê≤πËÜè", {"ÂÆπÈáè": "590ml", "ÂìÅÁâå": "Áµ±‰∏Ä"}, 45.0, 1, 1),
            ("ÈáëËò≠ÈÜ¨Ê≤π", {"ÂÆπÈáè": "1ÂÖ¨Âçá", "ÂìÅÁâå": "ÈáëËò≠"}, 85.0, 1, 1),
            ("Âë≥Á≤æ", {"ÂÆπÈáè": "454g", "ÂìÅÁâå": "Âë≥‰πãÁ¥†"}, 65.0, 1, 1),
            ("ÈπΩÂ∑¥", {"ÂÆπÈáè": "600g", "ÂìÅÁâå": "Âè∞ÈπΩ"}, 25.0, 1, 1),
            ("ËÉ°Ê§íÁ≤â", {"ÂÆπÈáè": "50g", "ÂìÅÁâå": "Âë≥Â•ΩÁæé"}, 120.0, 1, 1),
        ]
    },
    "SAUC": {  # ÈÜ¨ÊñôÈ°û
        "pricing_method": "BY_ITEM",
        "base_unit": "Áì∂",
        "products": [
            ("Áï™ËåÑÈÜ¨", {"ÂÆπÈáè": "300g", "ÂìÅÁâå": "ÂèØÊûúÁæé"}, 55.0, 1, 1),
            ("Ê≤ôËå∂ÈÜ¨", {"ÂÆπÈáè": "250g", "ÂìÅÁâå": "ÁâõÈ†≠Áâå"}, 65.0, 1, 1),
            ("Ë†îÊ≤π", {"ÂÆπÈáè": "510g", "ÂìÅÁâå": "ÊùéÈå¶Ë®ò"}, 90.0, 1, 1),
            ("ËäùÈ∫ªÈÜ¨", {"ÂÆπÈáè": "180g", "ÂìÅÁâå": "‰πùÁ¶è"}, 120.0, 1, 1),
        ]
    },
    "OILS": {  # Ê≤πÂìÅÈ°û
        "pricing_method": "BY_ITEM",
        "base_unit": "Áì∂",
        "products": [
            ("Ê≤ôÊãâÊ≤π", {"ÂÆπÈáè": "1ÂÖ¨Âçá", "ÂìÅÁâå": "Ê≥∞Â±±"}, 95.0, 1, 1),
            ("Ê©ÑÊ¨ñÊ≤π", {"ÂÆπÈáè": "500ml", "ÂìÅÁâå": "ÂæóÊÑèÁöÑ‰∏ÄÂ§©"}, 280.0, 1, 1),
            ("È∫ªÊ≤π", {"ÂÆπÈáè": "200ml", "ÂìÅÁâå": "‰πùÈ¨º"}, 320.0, 1, 1),
            ("ËëµËä±Ê≤π", {"ÂÆπÈáè": "1ÂÖ¨Âçá", "ÂìÅÁâå": "Á¶èÂ£Ω"}, 85.0, 1, 1),
        ]
    },
    "VINE": {  # ÈÜãÈ°û
        "pricing_method": "BY_ITEM",
        "base_unit": "Áì∂",
        "products": [
            ("ÁôΩÈÜã", {"ÂÆπÈáè": "300ml", "ÂìÅÁâå": "Â∑•Á†î"}, 35.0, 1, 1),
            ("ÁÉèÈÜã", {"ÂÆπÈáè": "300ml", "ÂìÅÁâå": "Ëê¨ÂÆ∂È¶ô"}, 40.0, 1, 1),
            ("Á±≥ÈÜã", {"ÂÆπÈáè": "300ml", "ÂìÅÁâå": "Áµ±‰∏Ä"}, 45.0, 1, 1),
            ("ËòãÊûúÈÜã", {"ÂÆπÈáè": "500ml", "ÂìÅÁâå": "Â¥áÂæ∑Áôº"}, 120.0, 1, 1),
        ]
    },
    "NOOD": {  # È∫µÊ¢ùÈ°û
        "pricing_method": "BY_ITEM",
        "base_unit": "ÂåÖ",
        "products": [
            ("ÈóúÂªüÈ∫µ", {"ÈáçÈáè": "600g", "ÂìÅÁâå": "ÈóúÂªü"}, 65.0, 1, 1),
            ("ÁÉèÈæçÈ∫µ", {"ÈáçÈáè": "200g", "ÂìÅÁâå": "‰∫îÊú®"}, 35.0, 1, 1),
            ("Áæ©Â§ßÂà©È∫µ", {"ÈáçÈáè": "500g", "ÂìÅÁâå": "ÁôæÂë≥‰æÜ"}, 85.0, 1, 1),
            ("ÊãâÈ∫µ", {"ÈáçÈáè": "130g", "ÂìÅÁâå": "Áµ±‰∏Ä"}, 25.0, 1, 1),
        ]
    },
    "RICE": {  # Á±≥È°û
        "pricing_method": "BY_ITEM",
        "base_unit": "ÂåÖ",
        "products": [
            ("Ëì¨ËêäÁ±≥", {"ÈáçÈáè": "3kg", "ÂìÅÁâå": "Âè∞ÁÅ£Â•ΩÁ±≥"}, 180.0, 1, 1),
            ("Á≥ôÁ±≥", {"ÈáçÈáè": "3kg", "ÂìÅÁâå": "Ê±†‰∏äÁ±≥"}, 220.0, 1, 1),
            ("‰∫îÁ©ÄÁ±≥", {"ÈáçÈáè": "1kg", "ÂìÅÁâå": "ËÅØËèØ"}, 150.0, 1, 1),
            ("Á¥´Á±≥", {"ÈáçÈáè": "1kg", "ÂìÅÁâå": "Ëä±ËìÆ"}, 200.0, 1, 1),
        ]
    },
    "BEAN": {  # Ë±ÜÈ°û
        "pricing_method": "BY_ITEM",
        "base_unit": "ÂåÖ",
        "products": [
            ("Á∂†Ë±Ü", {"ÈáçÈáè": "500g", "ÂìÅÁâå": "Ëê¨‰∏π"}, 80.0, 1, 1),
            ("Á¥ÖË±Ü", {"ÈáçÈáè": "500g", "ÂìÅÁâå": "Â±èÊù±"}, 120.0, 1, 1),
            ("ÈªÉË±Ü", {"ÈáçÈáè": "500g", "ÂìÅÁâå": "Âè∞ÁÅ£"}, 100.0, 1, 1),
            ("Ëä±Ë±Ü", {"ÈáçÈáè": "300g", "ÂìÅÁâå": "Âéü‰ΩèÊ∞ë"}, 180.0, 1, 1),
        ]
    },

    # ÂÜ∑ÂáçÈ£üÂìÅÈ°û (BY_ITEM)
    "DUMP": {  # Ê∞¥È§ÉÈ°û
        "pricing_method": "BY_ITEM",
        "base_unit": "ÂåÖ",
        "products": [
            ("Ë±¨ËÇâÊ∞¥È§É", {"ÈáçÈáè": "900g", "ÂìÅÁâå": "ÂõõÊµ∑"}, 180.0, 1, 1),
            ("Èü≠ËèúÊ∞¥È§É", {"ÈáçÈáè": "900g", "ÂìÅÁâå": "Áæ©Áæé"}, 160.0, 1, 1),
            ("ÁéâÁ±≥Ê∞¥È§É", {"ÈáçÈáè": "900g", "ÂìÅÁâå": "ÁÅ£‰ªîÁ¢ºÈ†≠"}, 200.0, 1, 1),
        ]
    },
    "FROS": {  # ÂÜ∑ÂáçËî¨ËèúÈ°û
        "pricing_method": "BY_ITEM",
        "base_unit": "ÂåÖ",
        "products": [
            ("ÂÜ∑ÂáçÁéâÁ±≥", {"ÈáçÈáè": "500g", "ÂìÅÁâå": "Ê°ÇÂÜ†"}, 85.0, 1, 1),
            ("ÂÜ∑ÂáçËä±Ê§∞Ëèú", {"ÈáçÈáè": "500g", "ÂìÅÁâå": "Áæ©Áæé"}, 90.0, 1, 1),
            ("ÂÜ∑ÂáçÊØõË±Ü", {"ÈáçÈáè": "400g", "ÂìÅÁâå": "Áµ±‰∏Ä"}, 70.0, 1, 1),
        ]
    },

    # ÁΩêÈ†≠È°û (BY_ITEM)
    "CANN": {  # ÁΩêÈ†≠È°û
        "pricing_method": "BY_ITEM",
        "base_unit": "ÁΩê",
        "products": [
            ("ÈÆ™È≠öÁΩêÈ†≠", {"ÈáçÈáè": "185g", "ÂìÅÁâå": "Êù±Âíå"}, 55.0, 1, 1),
            ("ÁéâÁ±≥ÁΩêÈ†≠", {"ÈáçÈáè": "340g", "ÂìÅÁâå": "Á∂†Â∑®‰∫∫"}, 45.0, 1, 1),
            ("Áï™ËåÑÁΩêÈ†≠", {"ÈáçÈáè": "400g", "ÂìÅÁâå": "ÂèØÊûúÁæé"}, 65.0, 1, 1),
            ("ËòëËèáÁΩêÈ†≠", {"ÈáçÈáè": "284g", "ÂìÅÁâå": "Áµ±‰∏Ä"}, 50.0, 1, 1),
        ]
    },

    # ‰π≥Ë£ΩÂìÅÈ°û (BY_ITEM)
    "MILK": {  # ÁâõÂ•∂È°û
        "pricing_method": "BY_ITEM",
        "base_unit": "Áì∂",
        "products": [
            ("ÈÆÆÂ•∂", {"ÂÆπÈáè": "936ml", "ÂìÅÁâå": "ÂÖâÊ≥â"}, 90.0, 1, 1),
            ("‰ΩéËÑÇÁâõÂ•∂", {"ÂÆπÈáè": "936ml", "ÂìÅÁâå": "Áµ±‰∏Ä"}, 85.0, 1, 1),
            ("‰øù‰πÖ‰π≥", {"ÂÆπÈáè": "200ml", "ÂìÅÁâå": "ÊûóÈ≥≥Ááü"}, 25.0, 1, 1),
        ]
    },
    "CHEE": {  # Ëµ∑Âè∏È°û
        "pricing_method": "BY_ITEM",
        "base_unit": "ÂåÖ",
        "products": [
            ("ÂàáÁâáËµ∑Âè∏", {"ÈáçÈáè": "200g", "ÂìÅÁâå": "ÂÆâ‰Ω≥"}, 180.0, 1, 1),
            ("Ëµ∑Âè∏Ê¢ù", {"ÈáçÈáè": "180g", "ÂìÅÁâå": "Á∏ΩÁµ±Áâå"}, 220.0, 1, 1),
            ("Â•∂Ê≤πËµ∑Âè∏", {"ÈáçÈáè": "200g", "ÂìÅÁâå": "Âç°Â§´"}, 160.0, 1, 1),
        ]
    },
    "YOGU": {  # ÂÑ™Ê†ºÈ°û
        "pricing_method": "BY_ITEM",
        "base_unit": "ÊùØ",
        "products": [
            ("ÂéüÂë≥ÂÑ™Ê†º", {"ÂÆπÈáè": "400g", "ÂìÅÁâå": "Á¶èÊ®Ç"}, 65.0, 1, 1),
            ("ËçâËéìÂÑ™Ê†º", {"ÂÆπÈáè": "100g", "ÂìÅÁâå": "Áµ±‰∏Ä"}, 25.0, 1, 1),
            ("Â∏åËáòÂÑ™Ê†º", {"ÂÆπÈáè": "170g", "ÂìÅÁâå": "ÈõÄÂ∑¢"}, 85.0, 1, 1),
        ]
    },

    # ÈõûËõãÈ°û (BY_ITEM)
    "EGGS": {  # ÈõûËõãÈ°û
        "pricing_method": "BY_ITEM",
        "base_unit": "Áõí",
        "products": [
            ("ÂúüÈõûËõã", {"Êï∏Èáè": "10È°Ü", "ÂìÅÁâå": "ÁâßÂ†¥"}, 120.0, 1, 1),
            ("ÁôΩÊÆºËõã", {"Êï∏Èáè": "12È°Ü", "ÂìÅÁâå": "Â§ßÊàê"}, 80.0, 1, 1),
            ("Á¥ÖÊÆºËõã", {"Êï∏Èáè": "10È°Ü", "ÂìÅÁâå": "Âã§ÂÑÑ"}, 90.0, 1, 1),
        ]
    },

    # ËÇâÈ°û (BY_WEIGHT)
    "PORK": {  # Ë±¨ËÇâÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("Ë±¨ÁµûËÇâ", {"ÈÉ®‰Ωç": "ÂæåËÖøËÇâ", "Áî¢Âú∞": "Âè∞ÁÅ£"}, 180.0, 0.5, 0.1),
            ("Ë±¨ÈáåËÇå", {"ÈÉ®‰Ωç": "ÈáåËÇåËÇâ", "Áî¢Âú∞": "Âè∞ÁÅ£"}, 220.0, 0.5, 0.1),
            ("‰∫îËä±ËÇâ", {"ÈÉ®‰Ωç": "‰∫îËä±ËÇâ", "Áî¢Âú∞": "Âè∞ÁÅ£"}, 200.0, 0.5, 0.1),
            ("Ë±¨ÊéíÈ™®", {"ÈÉ®‰Ωç": "ÊéíÈ™®", "Áî¢Âú∞": "Âè∞ÁÅ£"}, 160.0, 0.5, 0.1),
        ]
    },
    "BEEF": {  # ÁâõËÇâÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("ÁâõÁµûËÇâ", {"ÈÉ®‰Ωç": "ÂæåËÖøËÇâ", "Áî¢Âú∞": "Êæ≥Ê¥≤"}, 350.0, 0.3, 0.1),
            ("ÁâõÊéí", {"ÈÉ®‰Ωç": "Ëè≤Âäõ", "Áî¢Âú∞": "ÁæéÂúã"}, 800.0, 0.2, 0.1),
            ("ÁâõËÖ±", {"ÈÉ®‰Ωç": "ËÖ±Â≠êËÇâ", "Áî¢Âú∞": "Á¥êË•øËò≠"}, 450.0, 0.3, 0.1),
        ]
    },
    "CHIC": {  # ÈõûËÇâÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("ÈõûËÉ∏ËÇâ", {"ÈÉ®‰Ωç": "ËÉ∏ËÇâ", "Áî¢Âú∞": "Âè∞ÁÅ£"}, 140.0, 0.5, 0.1),
            ("ÈõûËÖøËÇâ", {"ÈÉ®‰Ωç": "ËÖøËÇâ", "Áî¢Âú∞": "Âè∞ÁÅ£"}, 120.0, 0.5, 0.1),
            ("ÂÖ®Èõû", {"ÈÉ®‰Ωç": "ÂÖ®Èõû", "Áî¢Âú∞": "Âè∞ÁÅ£"}, 100.0, 1.0, 0.5),
            ("ÈõûÁøÖ", {"ÈÉ®‰Ωç": "ÈõûÁøÖ", "Áî¢Âú∞": "Âè∞ÁÅ£"}, 160.0, 0.5, 0.1),
        ]
    },

    # Êµ∑ÈÆÆÈ°û (BY_WEIGHT)
    "FISH": {  # È≠öÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("Âè∞ÁÅ£ÈØõ", {"Á®ÆÈ°û": "Âê≥ÈÉ≠È≠ö", "Áî¢Âú∞": "Âè∞Âçó"}, 180.0, 0.5, 0.2),
            ("È±∏È≠ö", {"Á®ÆÈ°û": "‰∏ÉÊòüÈ±∏", "Áî¢Âú∞": "Èõ≤Êûó"}, 300.0, 0.5, 0.2),
            ("ÈÆ≠È≠ö", {"Á®ÆÈ°û": "Â§ßË•øÊ¥ãÈÆ≠", "Áî¢Âú∞": "Êå™Â®Å"}, 480.0, 0.3, 0.1),
            ("ÈØñÈ≠ö", {"Á®ÆÈ°û": "ÈùíËä±È≠ö", "Áî¢Âú∞": "Âè∞ÁÅ£"}, 200.0, 0.5, 0.2),
        ]
    },
    "SHRI": {  # Ëù¶È°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("ÁôΩËù¶", {"Á®ÆÈ°û": "ÁôΩËù¶", "Áî¢Âú∞": "Âè∞Âçó"}, 400.0, 0.3, 0.1),
            ("ËçâËù¶", {"Á®ÆÈ°û": "ËçâËù¶", "Áî¢Âú∞": "Â±èÊù±"}, 600.0, 0.3, 0.1),
            ("Â§©‰ΩøËù¶", {"Á®ÆÈ°û": "Â§©‰ΩøËù¶", "Áî¢Âú∞": "Èõ≤Êûó"}, 800.0, 0.2, 0.1),
        ]
    },
    "CRAB": {  # ËüπÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("ËûÉËüπ", {"Á®ÆÈ°û": "Á¥ÖËü≥", "Áî¢Âú∞": "ÂΩ∞Âåñ"}, 800.0, 0.5, 0.2),
            ("Ëä±Ëüπ", {"Á®ÆÈ°û": "Ëä±Ëüπ", "Áî¢Âú∞": "Âè∞‰∏≠"}, 600.0, 0.5, 0.2),
            ("Ê≤ôÂÖ¨", {"Á®ÆÈ°û": "Ê≤ôÂÖ¨", "Áî¢Âú∞": "Âè∞Âçó"}, 500.0, 0.5, 0.2),
        ]
    },

    # Ê∞¥Áî¢È°û (BY_WEIGHT)
    "SQUI": {  # È≠∑È≠öÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("ÈÄèÊäΩ", {"Á®ÆÈ°û": "ÈÄèÊäΩ", "Áî¢Âú∞": "ÊæéÊπñ"}, 350.0, 0.3, 0.1),
            ("Â∞èÂç∑", {"Á®ÆÈ°û": "Â∞èÂç∑", "Áî¢Âú∞": "Âü∫ÈöÜ"}, 400.0, 0.3, 0.1),
            ("Ëä±Êûù", {"Á®ÆÈ°û": "Ëä±Êûù", "Áî¢Âú∞": "Âè∞Âçó"}, 300.0, 0.3, 0.1),
        ]
    },
    "CLAM": {  # Ë≤ùÈ°û
        "pricing_method": "BY_WEIGHT",
        "base_unit": "kg",
        "products": [
            ("Ëõ§Ëúä", {"Á®ÆÈ°û": "ÊñáËõ§", "Áî¢Âú∞": "ÂΩ∞Âåñ"}, 120.0, 0.5, 0.2),
            ("Ëöµ‰ªî", {"Á®ÆÈ°û": "Áâ°Ë†£", "Áî¢Âú∞": "ÂòâÁæ©"}, 200.0, 0.3, 0.1),
            ("Âπ≤Ë≤ù", {"Á®ÆÈ°û": "ÊâáË≤ù", "Áî¢Âú∞": "Êó•Êú¨"}, 1200.0, 0.1, 0.05),
        ]
    }
}

def generate_sku_code(category_code: str, index: int) -> str:
    """Generate unique SKU code"""
    today = datetime.now().strftime("%Y%m%d")
    return f"{category_code}-{today}-{index:03d}"

async def create_products_and_skus():
    """Create products and SKUs using direct SQL"""
    
    conn = await asyncpg.connect(DATABASE_URL)
    total_created = 0
    
    try:
        # Get categories for our configured items
        categories = await conn.fetch("""
            SELECT id, code, name 
            FROM product_categories 
            WHERE level = 2 AND code = ANY($1)
        """, list(CATEGORY_SKU_CONFIG.keys()))
        
        # Also get all categories to report which ones we haven't configured
        all_categories = await conn.fetch("""
            SELECT code, name 
            FROM product_categories 
            WHERE level = 2 
            ORDER BY code
        """)
        
        configured_codes = set(CATEGORY_SKU_CONFIG.keys())
        all_codes = {cat['code'] for cat in all_categories}
        missing_codes = all_codes - configured_codes
        
        if missing_codes:
            print(f"üìã Note: {len(missing_codes)} categories not yet configured: {sorted(missing_codes)[:10]}...")
        
        for category in categories:
            if category['code'] not in CATEGORY_SKU_CONFIG:
                continue
            
            config = CATEGORY_SKU_CONFIG[category['code']]
            print(f"\nüì¶ Processing category: {category['name']} ({category['code']})")
            print(f"   Ë®àÂÉπÊñπÂºè: {config['pricing_method']}")
            
            for i, (product_name, variant, unit_price, min_qty, qty_increment) in enumerate(config["products"]):
                
                product_code = f"PRD-{category['code']}-{i+1:03d}"
                
                # Check if product already exists
                existing_product = await conn.fetchrow("""
                    SELECT id FROM products WHERE code = $1 AND version = 1
                """, product_code)
                
                if existing_product:
                    product_id = existing_product['id']
                    print(f"   üîÑ Product exists: {product_name}")
                else:
                    # Insert new product
                    product_id = str(uuid.uuid4())
                    await conn.execute("""
                        INSERT INTO products (
                            id, code, name, "categoryId", "baseUnit", "pricingUnit", "pricingMethod",
                            specifications, "isActive", "isPublic", "createdBy", "updatedBy", "updatedAt"
                        ) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, NOW())
                    """, 
                        product_id, product_code, product_name, category['id'],
                        config["base_unit"], config["base_unit"], config["pricing_method"],
                        json.dumps(variant), True, True, "system", "system"
                    )
                    print(f"   ‚ûï Created product: {product_name}")
                
                # Generate unique SKU code with timestamp to avoid duplicates
                sku_code = generate_sku_code(category['code'], i+1)
                
                # Check if SKU already exists
                existing_sku = await conn.fetchrow("""
                    SELECT id FROM product_skus WHERE "skuCode" = $1
                """, sku_code)
                
                if existing_sku:
                    print(f"   üîÑ SKU exists: {sku_code}")
                    continue
                
                # Insert new SKU
                sku_id = str(uuid.uuid4())
                sku_name = f"{product_name} - {config['base_unit']}"
                
                stock_qty = 50 if config["pricing_method"] == "BY_ITEM" else 100
                min_stock = 10 if config["pricing_method"] == "BY_ITEM" else 20
                max_stock = 200 if config["pricing_method"] == "BY_ITEM" else 500
                weight = 1.0 if config["pricing_method"] == "BY_WEIGHT" else None
                package_type = "Êï£Ë£ù" if config["pricing_method"] == "BY_WEIGHT" else "ÂåÖË£ù"
                shelf_life = 7 if "Ëèú" in category['name'] else 365
                storage_conditions = "ÂÜ∑Ëóè" if "Ëèú" in category['name'] else "Â∏∏Ê∫´"
                
                await conn.execute("""
                    INSERT INTO product_skus (
                        id, "productId", "skuCode", name, variant, "stockQuantity", 
                        "minStock", "maxStock", weight, "packageType", "shelfLifeDays",
                        "storageConditions", "isActive", "pricingMethod", "unitPrice",
                        "minOrderQuantity", "quantityIncrement", "updatedAt"
                    ) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, NOW())
                """,
                    sku_id, product_id, sku_code, sku_name, json.dumps(variant), stock_qty,
                    min_stock, max_stock, weight, package_type, shelf_life,
                    storage_conditions, True, config["pricing_method"], unit_price,
                    min_qty, qty_increment
                )
                
                total_created += 1
                print(f"   ‚úÖ {product_name}: {unit_price}ÂÖÉ/{config['base_unit']} (ÊúÄÂ∞èË®ÇË≥º: {min_qty}{config['base_unit']})")
        
        print(f"\nüéâ Successfully created {total_created} SKUs!")
        
        # Verify creation
        total_skus = await conn.fetchval("SELECT COUNT(*) FROM product_skus")
        print(f"üìä Total SKUs in database: {total_skus}")
        
    finally:
        await conn.close()

async def main():
    """Main execution function"""
    print("üöÄ Starting SKU data generation (Direct SQL)...")
    print("=" * 50)
    
    try:
        await create_products_and_skus()
        print("\n‚úÖ SKU generation completed successfully!")
        
    except Exception as e:
        print(f"‚ùå Error: {e}")
        import traceback
        traceback.print_exc()

if __name__ == "__main__":
    asyncio.run(main())
